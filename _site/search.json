[
  {
    "objectID": "posts/01-highcharter/index.html",
    "href": "posts/01-highcharter/index.html",
    "title": "Using Highcharter",
    "section": "",
    "text": "Inspired by the quarto and me blog, I am looking into using {highcharter} (Kunst 2022). This package is a wrapper for Highcharts – an interactive charting library1.\n\nKunst, Joshua. 2022. Highcharter: A Wrapper for the ’Highcharts’ Library. https://CRAN.R-project.org/package=highcharter.\n1 this needs a license for commercial and governmental useIn this post I will only be considering a scatter graph. Different plots – including survival curves – will come later.\n\n\n\nMy main requirements are mostly subjective:\n\nLooks nice\nIs interactive in a nice and obvious way\nIs accessible, following advice given by the Government Analysis Function"
  },
  {
    "objectID": "posts/01-highcharter/index.html#introduction",
    "href": "posts/01-highcharter/index.html#introduction",
    "title": "Using Highcharter",
    "section": "",
    "text": "Inspired by the quarto and me blog, I am looking into using {highcharter} (Kunst 2022). This package is a wrapper for Highcharts – an interactive charting library1.\n\nKunst, Joshua. 2022. Highcharter: A Wrapper for the ’Highcharts’ Library. https://CRAN.R-project.org/package=highcharter.\n1 this needs a license for commercial and governmental useIn this post I will only be considering a scatter graph. Different plots – including survival curves – will come later.\n\n\n\nMy main requirements are mostly subjective:\n\nLooks nice\nIs interactive in a nice and obvious way\nIs accessible, following advice given by the Government Analysis Function"
  },
  {
    "objectID": "posts/01-highcharter/index.html#getting-started-with-highcharter",
    "href": "posts/01-highcharter/index.html#getting-started-with-highcharter",
    "title": "Using Highcharter",
    "section": "Getting started with {highcharter}",
    "text": "Getting started with {highcharter}\nLets use the {palmerpenguins} data2 (Horst, Hill, and Gorman 2020).\n2 because penguins are nicer than eugenicists\nHorst, Allison Marie, Alison Presmanes Hill, and Kristen B Gorman. 2020. Palmerpenguins: Palmer Archipelago (Antarctica) Penguin Data. https://doi.org/10.5281/zenodo.3960218.\nThis is also the first time I have used the base R pipe |&gt;, after a life-time (well, 5 years) of using %&gt;%. The differences between the two are explain in this tidyverse blog. This means that the below code will not work on R versions prior to 4.1.0.\n\n\nCode\nlibrary(highcharter)\nlibrary(palmerpenguins)\n\n#data(package = 'palmerpenguins')\n\npenguins\n\n\n\n  \n\n\n\nA basic scatter graph, using the hchart function. Here, hcaes is similar in spirit to ggplot’s aes.\n\n\nCode\nhchart(penguins,\"scatter\", \n       hcaes(x = flipper_length_mm, y = bill_length_mm, group = species))\n\n\n\n\n\n\n\n\n\n\nSimple changes\nLets change a few things about the plot:\n\nAdd \\(x\\) and \\(y\\) axis labels;\nAdd a title and subtitle;\nAdd a source;\nChange the colours to the Government Analysis Function categorical data colour palette;\nMake the hover box specify ‘flipper length’ and ‘bill length’.\n\n\n\n\n\n\nGovernment analysis function colour palette\n\n\n\n\nCode\nhc_penguins &lt;- hchart(penguins,\"scatter\", \n       hcaes(x = flipper_length_mm, y = bill_length_mm, group = species)) |&gt;\n  # x axis label\n  hc_xAxis(title = list(text = \"Flipper Length (mm)\")) |&gt;\n  # y axis label\n  hc_yAxis(title = list(text = \"Bill Length (mm)\")) |&gt;\n  # title and subtitle\n  hc_title(text = \"Gentoo's have &lt;i&gt;big&lt;/i&gt; flippers!\",\n           margin = 20, # space between title (or subtitle) and plot [default = 15]\n           align = \"left\",\n           stlyle = list(useHTML = TRUE)) |&gt;\n  hc_subtitle(text = \"A scatter graph showing the relationship between flipper length \n              and bill length, for Adelie, Chinstrap and Gentoo penguins\",\n              align = \"left\") |&gt;\n  # a source\n hc_credits(\n    text = \"Chart created using R and highcharter\",\n    href = \"http://jkunst.com/highcharter\",\n    enabled = TRUE\n    ) |&gt;\n  # hover box options\n  hc_tooltip(\n    headerFormat = \"&lt;b&gt;{series.name}&lt;/b&gt;&lt;br&gt;\",\n    pointFormat = \"Flipper Length: {point.x} mm&lt;br&gt;Bill Length: {point.y} mm\"\n    #&gt; valueSuffix applies globally but only when values are displayed individually\n    #&gt; here, displayed twice so hard-coded into 'pointFormat'\n    #&gt;valueSuffix = \" mm\"\n  ) |&gt;\n  hc_colors(c(\"#12436D\", \"#28A197\", \"#801650\"))\n  \nhc_penguins"
  },
  {
    "objectID": "posts/01-highcharter/index.html#a-map",
    "href": "posts/01-highcharter/index.html#a-map",
    "title": "Using Highcharter",
    "section": "A map",
    "text": "A map\n\n\nCode\ndata(GNI2014, package = \"treemap\")\n\nhcmap(\n  \"custom/world-robinson-lowres\",\n  data = GNI2014,\n  name = \"Gross national income per capita\",\n  value = \"GNI\",\n  borderWidth = 0,\n  nullColor = \"#d3d3d3\",\n  joinBy = c(\"iso-a3\", \"iso3\")\n) |&gt;\n  hc_colorAxis(\n    stops = color_stops(colors = viridisLite::inferno(10, begin = 0.1)),\n    type = \"logarithmic\"\n  )"
  },
  {
    "objectID": "posts/01-highcharter/index.html#adding-accessibility",
    "href": "posts/01-highcharter/index.html#adding-accessibility",
    "title": "Using Highcharter",
    "section": "Adding accessibility",
    "text": "Adding accessibility\nHere we assume the visually aspects of the graph are accessible.3 In this section I will add the following capabilities to the graph.\n3 This is probably a big assumption. I am assuming the following information given by the Government Analysis Function (which apply to static charts) has been applied:\n\nGuidance on designing charts.\nGuidance on the use of colour. For alternative colour palettes, consider Paul Tol’s notes\n\n\nThe ability to download the data;\nKeyboard navigation;\nAlt text, following guidance given by Amy Cesal in her blog post, “Writing Alt Text for Data Visualization”.\n\n\n\n\n\n\nExample alt-text format for data viz, from Amy Cesal’s Medium post\n\n\n4 I’m not sure what the difference is between a ‘module’ and a ‘plug-in’, except that the ‘.js’ files seem to live in different folders.First, lets try and include a menu to export the data and the plot as an image – this requires using a module. Examples of using modules and plug-ins4 in {highcharter} are given in the modules vignette.\n\n\nCode\nhc_penguins2 &lt;- hc_penguins |&gt;\n  #hc_add_dependency(name = \"modules/exporting.js\") |&gt; \n  #hc_add_dependency(name = \"modules/export-data.js\") |&gt; \n  hc_exporting(\n    enabled = TRUE,\n    filename = \"palmer_penguins\"\n  )\n\nhc_penguins2\n\n\n\n\n\n\n\n\n\n\n\n\nComment on hc_add_dependency\n\n\n\nIn the quartoandme blog, the following lines are included in the ‘working example’:\n  hc_add_dependency(name = \"modules/accessibility.js\") |&gt; \n  hc_add_dependency(name = \"modules/exporting.js\") |&gt; \n  hc_exporting(\n    enabled = TRUE\n  )\nBut, (I think) the hc_exporting() function automatically includes the exporting.js and export-data.js modules when enabled = TRUE, so the two hc_add_dependency calls are unnecessary. I’m willing to be proved wrong here.\n\n\nTo get keyboard navigation working, we need to use the accessibility Highchart module.\n\n\nCode\nhc_penguins3 &lt;- hc_penguins |&gt;\n  #hc_add_dependency(name = \"modules/exporting.js\") |&gt; \n  #hc_add_dependency(name = \"modules/export-data.js\") |&gt; \n  hc_add_dependency(name = \"modules/accessibility.js\") |&gt; \n  hc_exporting(\n    accessibility = list(\n      enabled = FALSE # default value is TRUE\n      ),\n    enabled = TRUE,\n    filename = \"palmer_penguins\"\n  )\n\n#hc_penguins3\n\n\n\n\n\n\n\n\nThis doesn’t seem to work\n\n\n\nCurrently, including the hc_penguins3 plot results in all plots being removed from this Quarto document. I’m not sure why this is.\nRunning R 4.4.2 on RStudio RStudio 2024.09.1+394 “Cranberry Hibiscus”."
  }
]